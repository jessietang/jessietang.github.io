<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js实现html转义及反转义 | Jessie's Blog</title>
    <meta name="description" content="场景：开发中，我们常会在输入框输入东西然后提交。然后，会把提交的东西在某个地方进行渲染。在输入框输入的时候，我们可能会输入一些 html 标签或者特殊字符，如&lt;、&gt;、@、”“等等。这个时候，我们通常会把它们进行转义后保存，然后在获取渲染的时候，进行反转义。例如：我们在输入框输入一段文本，'121'&l...">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="alternate" type="application/atom+xml" title="Jessie's Blog Feed" href="/feed.xml">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1 class="site-title"><a href="/">Jessie's Blog</a></h1>
            <nav class="site-nav">
                <ul>
                    <li><a href="/">首页</a></li>
                    <li><a href="/blog/">博客</a></li>
                    <li><a href="/about/">关于</a></li>
                    <li><a href="/categories/">分类</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <article class="post">
    <header class="post-header">
        <h1 class="post-title">js实现html转义及反转义</h1>
        <div class="post-meta">
            <time datetime="2022-10-10T00:00:00+08:00">2022年10月10日</time>
            
            <span class="post-categories">
                
                <a href="/categories/#vue">vue</a>
                
                
            </span>
            
        </div>
    </header>

    <div class="post-content">
        <h3 id="场景开发中我们常会在输入框输入东西然后提交然后会把提交的东西在某个地方进行渲染在输入框输入的时候我们可能会输入一些-html-标签或者特殊字符如等等这个时候我们通常会把它们进行转义后保存然后在获取渲染的时候进行反转义">场景：开发中，我们常会在输入框输入东西然后提交。然后，会把提交的东西在某个地方进行渲染。在输入框输入的时候，我们可能会输入一些 html 标签或者特殊字符，如&lt;、&gt;、@、”“等等。这个时候，我们通常会把它们进行转义后保存，然后在获取渲染的时候，进行反转义。</h3>

<p>例如：我们在输入框输入一段文本，</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'121'&lt;p&gt;123&lt;/p&gt;@"321"@
</code></pre></div></div>

<p>执行转义的方法：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function htmlEncode(html){
    const temp = document.createElement('div');
    temp.textContent !== null ? temp.textContent = html : temp.innerText = html;
    const output = temp.innerHTML;
    return output;
}
</code></pre></div></div>

<p>进行转义后，变成下面的字符串进行保存：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>htmlEncode(`'121'&lt;p&gt;123&lt;/p&gt;@"321"@`)
// 执行后输出：
'121'&amp;lt;p&amp;gt;123&amp;lt;/p&amp;gt;@"321"@
</code></pre></div></div>

<p>渲染的时候，进行反转义：
反转义方法：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function htmlDecode(text) {
    const temp = document.createElement('div');
    temp.innerHTML = text;
    const output = temp.innerText || temp.textContent;
    return output;
}
</code></pre></div></div>

<p>执行反转义后，变成下面的字符串：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>htmlDecode(`'121'&amp;lt;p&amp;gt;123&amp;lt;/p&amp;gt;@"321"@`)
// 执行后输出：
'121'&lt;p&gt;123&lt;/p&gt;@"321"@
</code></pre></div></div>

<p>另外，笔记：</p>

<p>innerHTML 指的是从对象的起始位置到终止位置的全部内容,包括 Html 标签。
innerText 指的是从起始位置到终止位置的内容,但它去除 Html 标签。</p>

<p>innerHTML 是所有浏览器都支持的
innerText 是 IE 浏览器和 chrome 浏览器支持的，Firefox 浏览器不支持。
Firefox 浏览器使用 textContent
其实，innerHTML 是 W3C 组织规定的属性；而 innerText 属性是 IE 浏览器自己的属性，不过后来的浏览器部分实现这个属性罢了。</p>

    </div>

    <div class="post-navigation">
        
        <div class="prev-post">
            <a href="/blog/2022/09/02/%E9%81%8D%E5%8E%86%E7%94%9F%E6%88%90%E7%9A%84el-select%E5%80%BC%E7%9A%84%E7%BB%91%E5%AE%9A-%E9%80%89%E4%B8%AD%E4%B8%80%E4%B8%AA%E5%85%B6%E4%BB%96%E4%B8%8D%E5%8F%98.html">
                <span>上一篇</span>
                遍历生成的el-select值的绑定，选中一个其他不变
            </a>
        </div>
        
        
        <div class="next-post">
            <a href="/blog/2026/01/08/hello-world.html">
                <span>下一篇</span>
                Hello World - 我的第一篇博客文章
            </a>
        </div>
        
    </div>
</article>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2026 Jessie Tang. All rights reserved.</p>
            <div class="social-links">
                <a href="https://github.com/jessietang" target="_blank">GitHub</a>
                <a href="http://weibo.com/your-weibo-id" target="_blank">微博</a>
                <a href="https://twitter.com/your-twitter-id" target="_blank">Twitter</a>
                <a href="/feed.xml" target="_blank">RSS</a>
            </div>
        </div>
    </footer>
</body>
</html>